<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Spectre Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
      body {
        font-family: 'Inter', sans-serif;
        background-color: #000;
        color: white;
        user-select: none; /* Prevent text selection */
        -webkit-user-select: none;
        overflow: hidden; /* Lock scroll on body */
      }
      /* Hide scrollbar for cleaner UI */
      ::-webkit-scrollbar {
        width: 6px;
      }
      ::-webkit-scrollbar-track {
        background: #1a1a1a;
      }
      ::-webkit-scrollbar-thumb {
        background: #333;
        border-radius: 3px;
      }

      /* Cyberpunk Glitch Effect */
      @keyframes glitch {
        0% { transform: translate(0); }
        20% { transform: translate(-2px, 2px); }
        40% { transform: translate(-2px, -2px); }
        60% { transform: translate(2px, 2px); }
        80% { transform: translate(2px, -2px); }
        100% { transform: translate(0); }
      }
      
      .glitch-active {
        animation: glitch 0.2s cubic-bezier(.25, .46, .45, .94) both infinite;
        color: #0f0;
        text-shadow: 2px 0 #f00, -2px 0 #00f;
      }

      /* Scanline Animation for Buttons */
      @keyframes scanline {
        0% { top: -100%; opacity: 0; }
        50% { opacity: 1; }
        100% { top: 100%; opacity: 0; }
      }

      .btn-scanline::after {
        content: '';
        position: absolute;
        width: 100%;
        height: 5px;
        background: rgba(34, 197, 94, 0.8);
        box-shadow: 0 0 10px #22c55e;
        top: -100%;
        left: 0;
        animation: scanline 2s linear infinite;
        opacity: 0.5;
        pointer-events: none;
      }

      /* CRT Monitor flicker */
      @keyframes flicker {
        0% { opacity: 0.97; }
        5% { opacity: 0.95; }
        10% { opacity: 0.9; }
        15% { opacity: 0.95; }
        20% { opacity: 0.99; }
        100% { opacity: 0.9; }
      }
      
      .crt-flicker {
        animation: flicker 0.15s infinite;
        pointer-events: none;
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react/": "https://esm.sh/react@^19.2.3/",
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "@google/genai": "https://esm.sh/@google/genai@^1.37.0",
    "lucide-react": "https://esm.sh/lucide-react@^0.562.0"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
    <script type="module" src="./index.tsx"></script>
    <script>
      // ==========================================
      // üïµÔ∏è‚Äç‚ôÇÔ∏è CONDITIONAL SECURITY SYSTEM
      // ==========================================

      (function() {
        const STORAGE_KEY = 'spectre_dev_mode';
        const SECRET_PASS = 'admin_access'; // YOUR SECRET PASSWORD

        // Check URL for Secret Unlock Code
        const urlParams = new URLSearchParams(window.location.search);
        if(urlParams.get('unlock') === SECRET_PASS) {
            localStorage.setItem(STORAGE_KEY, 'true');
            alert("‚úÖ DEVELOPER MODE ACTIVATED\nSecurity protocols disabled for this session.");
            // Remove the query param to hide it from history
            window.history.replaceState({}, document.title, window.location.pathname);
        }

        // Check if Developer Mode is Active
        const isDeveloper = localStorage.getItem(STORAGE_KEY) === 'true';

        if (isDeveloper) {
            console.log("%c üîì DEVELOPER ACCESS GRANTED ", "background: green; color: white; font-size: 16px; padding: 5px;");
            // Exit here, do not apply security scripts
            return; 
        }

        // ==========================================
        // ‚õî BLOCKS FOR REGULAR USERS / THIEVES
        // ==========================================

        console.log("%c ‚õî PROTECTED APPLICATION ", "background: red; color: white; font-size: 20px; font-weight: bold;");
        console.log("Anti-theft protocols active.");

        // 1. Disable Context Menu (Right Click)
        document.addEventListener('contextmenu', e => e.preventDefault());

        // 2. Disable Keyboard Shortcuts (F12, Ctrl+Shift+I, etc.)
        document.onkeydown = function(e) {
          if(e.keyCode == 123) return false; // F12
          if(e.ctrlKey && e.shiftKey && (e.keyCode == 'I'.charCodeAt(0) || e.keyCode == 'J'.charCodeAt(0) || e.keyCode == 'C'.charCodeAt(0))) return false;
          if(e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) return false; // View Source
        }

        // 3. DevTools Detection & Browser Freezing
        // This makes the browser hang if someone forces DevTools open
        (function() {
          const threshold = 160;
          let devtoolsOpen = false;

          const checkDevTools = () => {
            const widthThreshold = window.outerWidth - window.innerWidth > threshold;
            const heightThreshold = window.outerHeight - window.innerHeight > threshold;
            
            if(widthThreshold || heightThreshold) {
               if(!devtoolsOpen) {
                   devtoolsOpen = true;
                   // Infinite loop to freeze Inspector
                   setInterval(() => {
                      (function() {}.constructor("debugger")());
                   }, 50);
                   document.body.innerHTML = '<div style="background:black;color:red;height:100vh;display:flex;align-items:center;justify-content:center;font-size:2rem;font-weight:bold;text-align:center;">‚ö†Ô∏è SECURITY ALERT ‚ö†Ô∏è<br>UNAUTHORIZED ACCESS DETECTED</div>';
               }
            }
          };

          window.addEventListener('resize', checkDevTools);
          checkDevTools();
          
          // Background debugger trap
          setInterval(() => {
               const start = new Date();
               (function() {}.constructor("debugger")());
               const end = new Date();
               if (end - start > 100) {
                   document.body.innerHTML = '<h1>ACCESS DENIED</h1>';
               }
          }, 1000);
        })();

      })();
    </script>
  </body>
</html>